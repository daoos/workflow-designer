<!DOCTYPE html>
<html>
<head lang="en">
    <title>Mocha Tests</title>
    <link rel="stylesheet" href="lib/mocha/mocha.css" />

    <script src="lib/mocha/mocha.js"></script>
    <script src="lib/chai/chai.js"></script>
    <script src="lib/chai-shallow-deep-equal/chai-shallow-deep-equal.js"></script>
    <script src="../lib/requirejs/require.js" type="text/javascript"></script>
</head>
<body>
<div id="mocha"></div>

<script>
    mocha.setup('bdd');

    var assert = chai.assert,
        expect = chai.expect;

    require.config({
        baseUrl: '/WorkflowDesigner/js',
        paths: {
            "d3": "../lib/d3/d3.min",
            "data": "../data"
        },
        shim: {
            mocha: {
                exports: 'mocha'
            }
        },
        urlArgs: 'bust=' + (new Date()).getTime()
    });

    console.log("In Config");
</script>
<script src="js/WorkflowItemsTests.js"></script>
<script>


    if (navigator.userAgent.indexOf("PhantomJS") < 0) {
        console.log("In Browser");
        mocha.checkLeaks();
        mocha.run();
    }
    else{
        console.log("In PhantomJS");
    }
</script>
</body>

</html>